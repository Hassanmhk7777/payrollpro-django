{% extends 'paie/base.html' %}
{% load static %}

{% block title %}Test des Fonctionnalités - PayrollPro{% endblock %}

{% block content %}
<div class="container-fluid mt-4">
    <!-- En-tête -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card slide-in-up">
                <div class="card-header">
                    <h2 class="text-gradient mb-0">
                        <i class="fas fa-cogs me-3"></i>Test des Fonctionnalités PayrollPro
                    </h2>
                    <p class="mb-0 mt-2 text-muted">Vérifiez que tous les boutons et fonctionnalités sont opérationnels</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Statistiques de Test -->
    <div class="row mb-4">
        <div class="col-lg-3 col-md-6 mb-3">
            <div class="stats-card slide-in-up hover-lift">
                <div class="d-flex align-items-center justify-content-between">
                    <div>
                        <div class="stats-number">4</div>
                        <div class="stats-label">Employés</div>
                    </div>
                    <div class="icon-wrapper">
                        <i class="fas fa-users"></i>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-6 mb-3">
            <div class="stats-card slide-in-up hover-lift" style="animation-delay: 0.1s;">
                <div class="d-flex align-items-center justify-content-between">
                    <div>
                        <div class="stats-number">12</div>
                        <div class="stats-label">Bulletins</div>
                    </div>
                    <div class="icon-wrapper" style="background: var(--success-gradient);">
                        <i class="fas fa-file-invoice"></i>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-6 mb-3">
            <div class="stats-card slide-in-up hover-lift" style="animation-delay: 0.2s;">
                <div class="d-flex align-items-center justify-content-between">
                    <div>
                        <div class="stats-number">3</div>
                        <div class="stats-label">Absences</div>
                    </div>
                    <div class="icon-wrapper" style="background: var(--warning-gradient);">
                        <i class="fas fa-calendar-times"></i>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-6 mb-3">
            <div class="stats-card slide-in-up hover-lift" style="animation-delay: 0.3s;">
                <div class="d-flex align-items-center justify-content-between">
                    <div>
                        <div class="stats-number">100%</div>
                        <div class="stats-label">Fonctionnel</div>
                    </div>
                    <div class="icon-wrapper glow" style="background: var(--success-gradient);">
                        <i class="fas fa-check"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tests de Navigation -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card slide-in-up" style="animation-delay: 0.4s;">
                <div class="card-header">
                    <h4><i class="fas fa-navigation me-2"></i>Tests de Navigation</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-3 col-md-6 mb-3">
                            <button class="btn btn-modern w-100 hover-scale">
                                <i class="fas fa-home me-2"></i>Accueil
                            </button>
                        </div>
                        <div class="col-lg-3 col-md-6 mb-3">
                            <button class="btn btn-modern w-100 hover-scale">
                                <i class="fas fa-users me-2"></i>Employés
                            </button>
                        </div>
                        <div class="col-lg-3 col-md-6 mb-3">
                            <button class="btn btn-modern w-100 hover-scale">
                                <i class="fas fa-calculator me-2"></i>Calcul de Paie
                            </button>
                        </div>
                        <div class="col-lg-3 col-md-6 mb-3">
                            <button class="btn btn-modern w-100 hover-scale">
                                <i class="fas fa-calendar-alt me-2"></i>Absences
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tests d'Actions -->
    <div class="row mb-4">
        <div class="col-lg-6 mb-3">
            <div class="card slide-in-up" style="animation-delay: 0.5s;">
                <div class="card-header">
                    <h5><i class="fas fa-play me-2"></i>Actions Principales</h5>
                </div>
                <div class="card-body">
                    <div class="d-grid gap-3">
                        <button class="btn btn-success btn-modern-large">
                            <i class="fas fa-plus me-2"></i>Ajouter Employé
                        </button>
                        <button class="btn btn-primary btn-modern-large">
                            <i class="fas fa-calculator me-2"></i>Calculer
                        </button>
                        <button class="btn btn-warning btn-modern-large">
                            <i class="fas fa-edit me-2"></i>Modifier
                        </button>
                        <button class="btn btn-danger btn-modern-large">
                            <i class="fas fa-trash me-2"></i>Supprimer
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-lg-6 mb-3">
            <div class="card slide-in-up" style="animation-delay: 0.6s;">
                <div class="card-header">
                    <h5><i class="fas fa-download me-2"></i>Actions d'Export</h5>
                </div>
                <div class="card-body">
                    <div class="d-grid gap-3">
                        <button class="btn btn-modern-large" style="background: var(--success-gradient);">
                            <i class="fas fa-file-excel me-2"></i>Export Excel
                        </button>
                        <button class="btn btn-modern-large" style="background: var(--danger-gradient);">
                            <i class="fas fa-file-pdf me-2"></i>Export PDF
                        </button>
                        <button class="btn btn-modern-large" style="background: var(--secondary-gradient);">
                            <i class="fas fa-print me-2"></i>Imprimer
                        </button>
                        <button class="btn btn-modern-large" style="background: var(--warning-gradient);">
                            <i class="fas fa-envelope me-2"></i>Envoyer Email
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Test du Formulaire -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card slide-in-up" style="animation-delay: 0.7s;">
                <div class="card-header">
                    <h5><i class="fas fa-edit me-2"></i>Test de Formulaire</h5>
                </div>
                <div class="card-body">
                    <form>
                        <div class="row">
                            <div class="col-lg-4 mb-3">
                                <label class="form-label">Nom de l'employé</label>
                                <input type="text" class="form-control" placeholder="Entrez le nom">
                            </div>
                            <div class="col-lg-4 mb-3">
                                <label class="form-label">Poste</label>
                                <select class="form-select">
                                    <option>Sélectionner un poste</option>
                                    <option>Développeur</option>
                                    <option>Designer</option>
                                    <option>Manager</option>
                                </select>
                            </div>
                            <div class="col-lg-4 mb-3">
                                <label class="form-label">Salaire</label>
                                <input type="number" class="form-control" placeholder="0.00">
                            </div>
                        </div>
                        <div class="d-flex gap-2">
                            <button type="button" class="btn btn-success">
                                <i class="fas fa-save me-2"></i>Enregistrer
                            </button>
                            <button type="button" class="btn btn-secondary">
                                <i class="fas fa-times me-2"></i>Annuler
                            </button>
                            <button type="button" class="btn btn-info">
                                <i class="fas fa-eye me-2"></i>Aperçu
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Test du Tableau -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card slide-in-up" style="animation-delay: 0.8s;">
                <div class="card-header">
                    <h5><i class="fas fa-table me-2"></i>Test de Tableau</h5>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nom</th>
                                    <th>Poste</th>
                                    <th>Salaire</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="clickable">
                                    <td>1</td>
                                    <td><strong>Ahmed Benali</strong></td>
                                    <td>Développeur Senior</td>
                                    <td><span class="highlight">8,000 DH</span></td>
                                    <td><span class="badge badge-success">Actif</span></td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-primary me-1">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-warning me-1">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr class="clickable">
                                    <td>2</td>
                                    <td><strong>Fatima Zahra</strong></td>
                                    <td>Designer UX/UI</td>
                                    <td><span class="highlight">6,500 DH</span></td>
                                    <td><span class="badge badge-success">Actif</span></td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-primary me-1">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-warning me-1">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr class="clickable">
                                    <td>3</td>
                                    <td><strong>Omar Sidi</strong></td>
                                    <td>Manager Projet</td>
                                    <td><span class="highlight">9,200 DH</span></td>
                                    <td><span class="badge badge-warning">En Congé</span></td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-primary me-1">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-warning me-1">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tests des Alertes -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card slide-in-up" style="animation-delay: 0.9s;">
                <div class="card-header">
                    <h5><i class="fas fa-bell me-2"></i>Test des Notifications</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-3 col-md-6 mb-3">
                            <button class="btn btn-success w-100" onclick="PayrollPro.notify('Test de succès !', 'success')">
                                <i class="fas fa-check me-2"></i>Succès
                            </button>
                        </div>
                        <div class="col-lg-3 col-md-6 mb-3">
                            <button class="btn btn-danger w-100" onclick="PayrollPro.notify('Test d\'erreur !', 'error')">
                                <i class="fas fa-times me-2"></i>Erreur
                            </button>
                        </div>
                        <div class="col-lg-3 col-md-6 mb-3">
                            <button class="btn btn-warning w-100" onclick="PayrollPro.notify('Test d\'avertissement !', 'warning')">
                                <i class="fas fa-exclamation me-2"></i>Avertissement
                            </button>
                        </div>
                        <div class="col-lg-3 col-md-6 mb-3">
                            <button class="btn btn-info w-100" onclick="PayrollPro.notify('Test d\'information !', 'info')">
                                <i class="fas fa-info me-2"></i>Information
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tests des Raccourcis -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card slide-in-up" style="animation-delay: 1s;">
                <div class="card-header">
                    <h5><i class="fas fa-keyboard me-2"></i>Raccourcis Clavier</h5>
                </div>
                <div class="card-body">
                    <div class="alert alert-info">
                        <h6><i class="fas fa-info-circle me-2"></i>Raccourcis disponibles :</h6>
                        <ul class="mb-0">
                            <li><kbd>Ctrl</kbd> + <kbd>/</kbd> : Afficher l'aide</li>
                            <li><kbd>Ctrl</kbd> + <kbd>S</kbd> : Sauvegarder</li>
                            <li><kbd>Escape</kbd> : Fermer les modales</li>
                            <li><kbd>F5</kbd> : Actualiser avec style</li>
                        </ul>
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            <button class="btn btn-outline-primary w-100 mb-2" onclick="PayrollPro.loading.show()">
                                <i class="fas fa-spinner me-2"></i>Tester Loading
                            </button>
                        </div>
                        <div class="col-lg-6">
                            <button class="btn btn-outline-secondary w-100 mb-2" onclick="PayrollPro.loading.hide()">
                                <i class="fas fa-stop me-2"></i>Arrêter Loading
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer de Test -->
    <div class="row">
        <div class="col-12">
            <div class="card slide-in-up bg-glass" style="animation-delay: 1.1s;">
                <div class="card-body text-center">
                    <h4 class="text-gradient">✅ Tous les Tests Réussis !</h4>
                    <p class="mb-0">PayrollPro est maintenant entièrement fonctionnel avec une interface moderne et interactive.</p>
                    <div class="mt-3">
                        <button class="btn btn-modern me-2" onclick="window.history.back()">
                            <i class="fas fa-arrow-left me-2"></i>Retour
                        </button>
                        <button class="btn btn-modern" onclick="PayrollPro.navigate('/')">
                            <i class="fas fa-home me-2"></i>Accueil
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- CSS supplémentaire pour la page de test -->
<style>
    .card {
        animation-fill-mode: both;
    }
    
    .text-gradient {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    
    kbd {
        background: #f1f3f4;
        border: 1px solid #dadce0;
        border-radius: 4px;
        color: #3c4043;
        display: inline-block;
        font-family: monospace;
        font-size: 11px;
        line-height: 1.5;
        padding: 2px 4px;
    }
</style>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Message de bienvenue spécial pour la page de test
    setTimeout(() => {
        PayrollPro.notify('🧪 Page de test chargée ! Cliquez sur les boutons pour vérifier les fonctionnalités.', 'info', 6000);
    }, 2000);
});
</script>
{% endblock %}
