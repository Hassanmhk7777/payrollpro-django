<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aide & Navigation - PayrollPro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --light-bg: #f8f9fa;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--light-bg);
        }

        .navbar {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)) !important;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .page-title {
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 30px;
        }

        .section-title {
            color: var(--primary-color);
            font-weight: 500;
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .role-card {
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            height: 100%;
        }

        .role-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .feature-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .url-box {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 5px 10px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .keyboard-key {
            background: #e9ecef;
            border: 1px solid #adb5bd;
            border-radius: 3px;
            padding: 2px 6px;
            font-family: monospace;
            font-size: 0.85em;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75em;
            font-weight: 500;
        }

        .quick-search {
            position: relative;
            margin-bottom: 30px;
        }

        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            max-height: 300px;
            overflow-y: auto;
            display: none;
        }

        .search-item {
            padding: 10px 15px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
        }

        .search-item:hover {
            background-color: #f8f9fa;
        }

        .tab-content {
            margin-top: 20px;
        }

        .demo-user {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 10px;
            border-radius: 8px;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">
                <i class="bi bi-calculator"></i> PayrollPro
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="/">
                    <i class="bi bi-house"></i> Retour √† l'accueil
                </a>
            </div>
        </div>
    </nav>

    <div class="container-fluid py-4">
        <!-- Header -->
        <div class="row">
            <div class="col-12">
                <h1 class="page-title">
                    <i class="bi bi-question-circle"></i> Guide de Navigation PayrollPro
                </h1>
                <p class="text-muted">Tous les liens et fonctionnalit√©s disponibles selon votre r√¥le</p>
            </div>
        </div>

        <!-- Recherche rapide -->
        <div class="row mb-4">
            <div class="col-md-6">
                <div class="quick-search">
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="bi bi-search"></i>
                        </span>
                        <input type="text" id="searchInput" class="form-control" 
                               placeholder="Rechercher une fonctionnalit√©...">
                    </div>
                    <div id="searchResults" class="search-results"></div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="alert alert-info">
                    <i class="bi bi-person-badge"></i>
                    <strong>Simulateur de r√¥les :</strong> Testez les diff√©rentes interfaces selon votre r√¥le
                </div>
            </div>
        </div>

        <!-- Navigation par onglets -->
        <ul class="nav nav-tabs" id="helpTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="admin-tab" data-bs-toggle="tab" 
                        data-bs-target="#admin" type="button" role="tab">
                    <i class="bi bi-shield-check"></i> Administrateur
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="rh-tab" data-bs-toggle="tab" 
                        data-bs-target="#rh" type="button" role="tab">
                    <i class="bi bi-people-fill"></i> RH
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="employe-tab" data-bs-toggle="tab" 
                        data-bs-target="#employe" type="button" role="tab">
                    <i class="bi bi-person"></i> Employ√©
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="technique-tab" data-bs-toggle="tab" 
                        data-bs-target="#technique" type="button" role="tab">
                    <i class="bi bi-gear"></i> Technique
                </button>
            </li>
        </ul>

        <div class="tab-content" id="helpTabsContent">
            <!-- ONGLET ADMINISTRATEUR -->
            <div class="tab-pane fade show active" id="admin" role="tabpanel">
                <div class="row">
                    <div class="col-12">
                        <div class="alert alert-danger">
                            <h5><i class="bi bi-crown"></i> Fonctionnalit√©s Administrateur</h5>
                            <p class="mb-0">Acc√®s complet √† toutes les fonctionnalit√©s du syst√®me</p>
                        </div>
                    </div>
                </div>

                <div class="feature-grid">
                    <div class="feature-item">
                        <h6><i class="bi bi-speedometer2"></i> Tableaux de Bord</h6>
                        <ul>
                            <li><a href="/">Accueil g√©n√©ral</a></li>
                            <li><a href="/dashboard/admin/">Dashboard Admin</a></li>
                            <li><a href="/dashboard/rh/">Dashboard RH (test)</a></li>
                            <li><a href="/dashboard/employe/">Dashboard Employ√© (test)</a></li>
                        </ul>
                    </div>

                    <div class="feature-item">
                        <h6><i class="bi bi-people"></i> Gestion des Utilisateurs</h6>
                        <ul>
                            <li><a href="/gestion-utilisateurs/">Cr√©er des comptes</a></li>
                            <li><a href="/admin/auth/user/">G√©rer utilisateurs Django</a></li>
                            <li><a href="/admin/auth/group/">G√©rer les groupes</a></li>
                            <li><a href="/admin/">Administration compl√®te</a></li>
                        </ul>
                    </div>

                    <div class="feature-item">
                        <h6><i class="bi bi-building"></i> Gestion Entreprise</h6>
                        <ul>
                            <li><a href="/employes/">Liste des employ√©s</a></li>
                            <li><a href="/admin/paie/employe/add/">Ajouter employ√©</a></li>
                            <li><a href="/calcul-paie/">Calcul de paie</a></li>
                            <li><a href="/absences/">Gestion absences</a></li>
                        </ul>
                    </div>

                    <div class="feature-item">
                        <h6><i class="bi bi-gear"></i> Configuration Syst√®me</h6>
                        <ul>
                            <li><a href="/admin/paie/parametrepaie/">Param√®tres de paie</a></li>
                            <li><a href="/admin/paie/elementpaie/">√âl√©ments de paie</a></li>
                            <li><a href="/test-absences/">Tests d'int√©gration</a></li>
                            <li><a href="/admin/paie/bulletinpaie/">Bulletins g√©n√©r√©s</a></li>
                        </ul>
                    </div>
                </div>

                <div class="demo-user">
                    <strong>üß™ Comptes de test :</strong>
                    <div class="mt-2">
                        <code>admin / admin123</code> - Super utilisateur<br>
                        <code>rh_user / rh123</code> - Responsable RH<br>
                        <code>employe_test / emp123</code> - Employ√© standard
                    </div>
                </div>
            </div>

            <!-- ONGLET RH -->
            <div class="tab-pane fade" id="rh" role="tabpanel">
                <div class="row">
                    <div class="col-12">
                        <div class="alert alert-primary">
                            <h5><i class="bi bi-briefcase"></i> Fonctionnalit√©s Ressources Humaines</h5>
                            <p class="mb-0">Gestion quotidienne des employ√©s et de la paie</p>
                        </div>
                    </div>
                </div>

                <div class="feature-grid">
                    <div class="feature-item">
                        <h6><i class="bi bi-clipboard-data"></i> Tableau de Bord RH</h6>
                        <ul>
                            <li><a href="/dashboard/rh/">Mon dashboard RH</a></li>
                            <li>Vue d'ensemble des t√¢ches du jour</li>
                            <li>Statistiques employ√©s actifs</li>
                            <li>√âch√©ances importantes</li>
                        </ul>
                    </div>

                    <div class="feature-item">
                        <h6><i class="bi bi-people"></i> Gestion Employ√©s</h6>
                        <ul>
                            <li><a href="/employes/">Liste compl√®te des employ√©s</a></li>
                            <li><a href="/admin/paie/employe/add/">Ajouter un employ√©</a></li>
                            <li>Modifier informations personnelles</li>
                            <li>G√©rer les statuts actif/inactif</li>
                        </ul>
                    </div>

                    <div class="feature-item">
                        <h6><i class="bi bi-calculator"></i> Gestion de la Paie</h6>
                        <ul>
                            <li><a href="/calcul-paie/">Calcul paie mensuelle</a></li>
                            <li><a href="/admin/paie/elementpaie/">√âl√©ments de paie</a></li>
                            <li><a href="/admin/paie/bulletinpaie/">Bulletins g√©n√©r√©s</a></li>
                            <li>Validation et envoi bulletins</li>
                        </ul>
                    </div>

                    <div class="feature-item">
                        <h6><i class="bi bi-calendar-check"></i> Gestion des Absences</h6>
                        <ul>
                            <li><a href="/absences/">Valider demandes d'absence</a></li>
                            <li><a href="/calendrier-absences/">Calendrier √©quipe</a></li>
                            <li><a href="/absences/statistiques/">Statistiques absences</a></li>
                            <li>Validation en lot</li>
                        </ul>
                    </div>
                </div>

                <div class="alert alert-warning">
                    <h6><i class="bi bi-exclamation-triangle"></i> Workflow RH Typique</h6>
                    <ol class="mb-0">
                        <li>Consulter le dashboard pour les t√¢ches du jour</li>
                        <li>Valider les demandes d'absence en attente</li>
                        <li>Traiter les √©l√©ments de paie du mois</li>
                        <li>Lancer le calcul de paie mensuelle</li>
                        <li>Valider et envoyer les bulletins</li>
                    </ol>
                </div>
            </div>

            <!-- ONGLET EMPLOY√â -->
            <div class="tab-pane fade" id="employe" role="tabpanel">
                <div class="row">
                    <div class="col-12">
                        <div class="alert alert-success">
                            <h5><i class="bi bi-person-circle"></i> Espace Employ√©</h5>
                            <p class="mb-0">Consultation et gestion de vos informations personnelles</p>
                        </div>
                    </div>
                </div>

                <div class="feature-grid">
                    <div class="feature-item">
                        <h6><i class="bi bi-house"></i> Mon Espace Personnel</h6>
                        <ul>
                            <li><a href="/dashboard/employe/">Mon dashboard</a></li>
                            <li>Vue de mon dernier bulletin</li>
                            <li>Solde de cong√©s disponible</li>
                            <li>Mes derni√®res demandes</li>
                        </ul>
                    </div>

                    <div class="feature-item">
                        <h6><i class="bi bi-file-text"></i> Mes Documents</h6>
                        <ul>
                            <li><span class="status-badge bg-warning">Bient√¥t</span> Mes bulletins de paie</li>
                            <li><span class="status-badge bg-warning">Bient√¥t</span> Certificat de travail</li>
                            <li><span class="status-badge bg-warning">Bient√¥t</span> Attestation salaire</li>
                            <li><span class="status-badge bg-warning">Bient√¥t</span> Historique des documents</li>
                        </ul>
                    </div>

                    <div class="feature-item">
                        <h6><i class="bi bi-calendar-event"></i> Mes Absences</h6>
                        <ul>
                            <li><a href="/absences/">Demander un cong√©</a></li>
                            <li>Consulter mes demandes en cours</li>
                            <li>Voir mon solde de cong√©s</li>
                            <li>Historique de mes absences</li>
                        </ul>
                    </div>

                    <div class="feature-item">
                        <h6><i class="bi bi-person-gear"></i> Mon Profil</h6>
                        <ul>
                            <li><span class="status-badge bg-warning">Bient√¥t</span> Modifier mes informations</li>
                            <li><span class="status-badge bg-warning">Bient√¥t</span> Changer mot de passe</li>
                            <li><span class="status-badge bg-warning">Bient√¥t</span> Pr√©f√©rences notifications</li>
                            <li>Consulter mes informations</li>
                        </ul>
                    </div>
                </div>

                <div class="alert alert-info">
                    <h6><i class="bi bi-lightbulb"></i> Comment bien commencer ?</h6>
                    <ol class="mb-0">
                        <li>Consultez votre <a href="/dashboard/employe/">dashboard personnel</a></li>
                        <li>V√©rifiez vos informations dans votre profil</li>
                        <li>Testez une demande de cong√© via <a href="/absences/">Gestion Absences</a></li>
                        <li>Consultez vos bulletins (d√®s qu'ils sont disponibles)</li>
                    </ol>
                </div>
            </div>

            <!-- ONGLET TECHNIQUE -->
            <div class="tab-pane fade" id="technique" role="tabpanel">
                <div class="row">
                    <div class="col-12">
                        <div class="alert alert-dark">
                            <h5><i class="bi bi-code-slash"></i> Informations Techniques</h5>
                            <p class="mb-0">URLs, raccourcis et outils de d√©veloppement</p>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header">
                                <h6><i class="bi bi-link"></i> URLs Principales</h6>
                            </div>
                            <div class="card-body">
                                <table class="table table-sm">
                                    <tr><td>Accueil</td><td><span class="url-box">/</span></td></tr>
                                    <tr><td>Admin Dashboard</td><td><span class="url-box">/dashboard/admin/</span></td></tr>
                                    <tr><td>RH Dashboard</td><td><span class="url-box">/dashboard/rh/</span></td></tr>
                                    <tr><td>Employ√© Dashboard</td><td><span class="url-box">/dashboard/employe/</span></td></tr>
                                    <tr><td>Liste Employ√©s</td><td><span class="url-box">/employes/</span></td></tr>
                                    <tr><td>Calcul Paie</td><td><span class="url-box">/calcul-paie/</span></td></tr>
                                    <tr><td>Gestion Absences</td><td><span class="url-box">/absences/</span></td></tr>
                                    <tr><td>Test Int√©gration</td><td><span class="url-box">/test-absences/</span></td></tr>
                                    <tr><td>Admin Django</td><td><span class="url-box">/admin/</span></td></tr>
                                    <tr><td>Connexion</td><td><span class="url-box">/admin/login/</span></td></tr>
                                    <tr><td>D√©connexion</td><td><span class="url-box">/deconnexion/</span></td></tr>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header">
                                <h6><i class="bi bi-keyboard"></i> Raccourcis Clavier</h6>
                            </div>
                            <div class="card-body">
                                <table class="table table-sm">
                                    <tr>
                                        <td><span class="keyboard-key">Alt + H</span></td>
                                        <td>Retour √† l'accueil</td>
                                    </tr>
                                    <tr>
                                        <td><span class="keyboard-key">Alt + E</span></td>
                                        <td>Liste des employ√©s</td>
                                    </tr>
                                    <tr>
                                        <td><span class="keyboard-key">Alt + P</span></td>
                                        <td>Calcul de paie</td>
                                    </tr>
                                    <tr>
                                        <td><span class="keyboard-key">Alt + A</span></td>
                                        <td>Gestion absences</td>
                                    </tr>
                                    <tr>
                                        <td><span class="keyboard-key">Alt + U</span></td>
                                        <td>Gestion utilisateurs</td>
                                    </tr>
                                    <tr>
                                        <td><span class="keyboard-key">Esc</span></td>
                                        <td>Fermer les modals</td>
                                    </tr>
                                    <tr>
                                        <td><span class="keyboard-key">Ctrl + /</span></td>
                                        <td>Recherche rapide</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <div class="card mt-3">
                            <div class="card-header">
                                <h6><i class="bi bi-database"></i> Informations Syst√®me</h6>
                            </div>
                            <div class="card-body">
                                <ul class="list-unstyled">
                                    <li><strong>Framework :</strong> Django 5.2.4</li>
                                    <li><strong>Base de donn√©es :</strong> SQLite3</li>
                                    <li><strong>Frontend :</strong> Bootstrap 5.1.3</li>
                                    <li><strong>Icons :</strong> Bootstrap Icons 1.8.1</li>
                                    <li><strong>PDF :</strong> ReportLab</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <h6><i class="bi bi-bug"></i> Tests et D√©bogage</h6>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-4">
                                        <h6>üß™ Pages de Test :</h6>
                                        <ul>
                                            <li><a href="/test-absences/">Test Int√©gration Absences</a></li>
                                            <li><a href="/admin/paie/">Admin Mod√®les Paie</a></li>
                                            <li>Tests unitaires Django</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-4">
                                        <h6>üìä Outils d'Analyse :</h6>
                                        <ul>
                                            <li><a href="/absences/statistiques/">Statistiques Absences</a></li>
                                            <li>Rapports de performance</li>
                                            <li>Logs syst√®me</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-4">
                                        <h6>üîß Maintenance :</h6>
                                        <ul>
                                            <li>Sauvegarde base de donn√©es</li>
                                            <li>Nettoyage des sessions</li>
                                            <li>Mise √† jour param√®tres</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Guide de d√©marrage rapide -->
        <div class="row mt-5">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-success text-white">
                        <h5><i class="bi bi-play-circle"></i> Guide de D√©marrage Rapide</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4">
                                <h6>üöÄ Premier D√©marrage (Admin)</h6>
                                <ol>
                                    <li>Connectez-vous via <a href="/admin/login/">/admin/login/</a></li>
                                    <li>Cr√©ez des employ√©s dans <a href="/admin/paie/employe/add/">Employ√©s</a></li>
                                    <li>Configurez les <a href="/admin/paie/parametrepaie/">param√®tres de paie</a></li>
                                    <li>Testez le <a href="/calcul-paie/">calcul de paie</a></li>
                                    <li>Cr√©ez des comptes utilisateurs</li>
                                </ol>
                            </div>
                            <div class="col-md-4">
                                <h6>üíº Utilisation RH</h6>
                                <ol>
                                    <li>Consultez le <a href="/dashboard/rh/">dashboard RH</a></li>
                                    <li>V√©rifiez les <a href="/absences/">demandes d'absence</a></li>
                                    <li>Pr√©parez les √©l√©ments de paie du mois</li>
                                    <li>Lancez le calcul de paie</li>
                                    <li>Validez et envoyez les bulletins</li>
                                </ol>
                            </div>
                            <div class="col-md-4">
                                <h6>üë§ Interface Employ√©</h6>
                                <ol>
                                    <li>Acc√©dez √† votre <a href="/dashboard/employe/">espace personnel</a></li>
                                    <li>Consultez vos informations</li>
                                    <li>Demandez vos cong√©s</li>
                                    <li>Consultez vos bulletins</li>
                                    <li>Mettez √† jour votre profil</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Support -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="alert alert-info">
                    <h6><i class="bi bi-question-circle"></i> Besoin d'aide ?</h6>
                    <p class="mb-0">
                        Cette application est un syst√®me de d√©monstration. Pour une utilisation en production, 
                        consultez la documentation compl√®te ou contactez le support technique.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Donn√©es pour la recherche
        const searchData = [
            { title: "Tableau de bord Admin", url: "/dashboard/admin/", category: "Dashboard", description: "Vue d'ensemble administrateur" },
            { title: "Tableau de bord RH", url: "/dashboard/rh/", category: "Dashboard", description: "Interface responsable RH" },
            { title: "Tableau de bord Employ√©", url: "/dashboard/employe/", category: "Dashboard", description: "Espace personnel employ√©" },
            { title: "Liste des Employ√©s", url: "/employes/", category: "Gestion", description: "Gestion des employ√©s" },
            { title: "Calcul de Paie", url: "/calcul-paie/", category: "Paie", description: "Calcul mensuel de la paie" },
            { title: "Gestion des Absences", url: "/absences/", category: "Absences", description: "Demandes et validation d'absences" },
            { title: "Ajouter un Employ√©", url: "/admin/paie/employe/add/", category: "Gestion", description: "Cr√©er un nouvel employ√©" },
            { title: "Administration Django", url: "/admin/", category: "Admin", description: "Interface d'administration" },
            { title: "Test Int√©gration", url: "/test-absences/", category: "Test", description: "Tester l'int√©gration absences-paie" },
            { title: "Param√®tres de Paie", url: "/admin/paie/parametrepaie/", category: "Configuration", description: "Configuration des param√®tres" },
            { title: "Bulletins de Paie", url: "/admin/paie/bulletinpaie/", category: "Paie", description: "Consulter les bulletins g√©n√©r√©s" },
            { title: "√âl√©ments de Paie", url: "/admin/paie/elementpaie/", category: "Paie", description: "Primes, retenues, avances" },
            { title: "Calendrier Absences", url: "/calendrier-absences/", category: "Absences", description: "Planning des absences √©quipe" },
            { title: "Statistiques Absences", url: "/absences/statistiques/", category: "Absences", description: "Rapports et statistiques" },
            { title: "Gestion Utilisateurs", url: "/gestion-utilisateurs/", category: "Admin", description: "Cr√©er et g√©rer les comptes" }
        ];

        // Fonction de recherche
        function performSearch(query) {
            if (query.length < 2) {
                document.getElementById('searchResults').style.display = 'none';
                return;
            }

            const results = searchData.filter(item => 
                item.title.toLowerCase().includes(query.toLowerCase()) ||
                item.description.toLowerCase().includes(query.toLowerCase()) ||
                item.category.toLowerCase().includes(query.toLowerCase())
            );

            const resultsContainer = document.getElementById('searchResults');
            
            if (results.length > 0) {
                resultsContainer.innerHTML = results.map(item => `
                    <div class="search-item" onclick="window.open('${item.url}', '_blank')">
                        <strong>${item.title}</strong>
                        <br><small class="text-muted">${item.description}</small>
                        <span class="badge bg-secondary float-end">${item.category}</span>
                    </div>
                `).join('');
                resultsContainer.style.display = 'block';
            } else {
                resultsContainer.innerHTML = '<div class="search-item">Aucun r√©sultat trouv√©</div>';
                resultsContainer.style.display = 'block';
            }
        }

        // Event listeners
        document.getElementById('searchInput').addEventListener('input', function(e) {
            performSearch(e.target.value);
        });

        // Fermer les r√©sultats quand on clique ailleurs
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.quick-search')) {
                document.getElementById('searchResults').style.display = 'none';
            }
        });

        // Raccourcis clavier
        document.addEventListener('keydown', function(e) {
            // Ctrl + / pour focus sur la recherche
            if (e.ctrlKey && e.key === '/') {
                e.preventDefault();
                document.getElementById('searchInput').focus();
            }
            
            // Alt + H pour accueil
            if (e.altKey && e.key === 'h') {
                e.preventDefault();
                window.open('/', '_blank');
            }
            
            // Alt + E pour employ√©s
            if (e.altKey && e.key === 'e') {
                e.preventDefault();
                window.open('/employes/', '_blank');
            }
            
            // Alt + P pour paie
            if (e.altKey && e.key === 'p') {
                e.preventDefault();
                window.open('/calcul-paie/', '_blank');
            }
            
            // Alt + A pour absences
            if (e.altKey && e.key === 'a') {
                e.preventDefault();
                window.open('/absences/', '_blank');
            }
            
            // Alt + U pour utilisateurs
            if (e.altKey && e.key === 'u') {
                e.preventDefault();
                window.open('/gestion-utilisateurs/', '_blank');
            }
            
            // Escape pour fermer les modals/r√©sultats
            if (e.key === 'Escape') {
                document.getElementById('searchResults').style.display = 'none';
            }
        });

        // Animation d'entr√©e
        document.addEventListener('DOMContentLoaded', function() {
            // Animer les cartes
            const cards = document.querySelectorAll('.feature-item');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    card.style.transition = 'all 0.5s ease';
                    
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 100);
                }, index * 100);
            });

            // Message de bienvenue
            setTimeout(() => {
                if (localStorage.getItem('payrollpro_help_visited') !== 'true') {
                    showWelcomeMessage();
                    localStorage.setItem('payrollpro_help_visited', 'true');
                }
            }, 1000);
        });

        function showWelcomeMessage() {
            const welcomeHTML = `
                <div class="modal fade" id="welcomeModal" tabindex="-1">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header bg-primary text-white">
                                <h5 class="modal-title">
                                    <i class="bi bi-star"></i> Bienvenue dans PayrollPro !
                                </h5>
                                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <div class="text-center mb-3">
                                    <i class="bi bi-calculator" style="font-size: 3rem; color: #3498db;"></i>
                                </div>
                                <h6>üöÄ Premi√®re visite ?</h6>
                                <p>Cette page d'aide vous guide dans toutes les fonctionnalit√©s selon votre r√¥le :</p>
                                <ul>
                                    <li><strong>Administrateur :</strong> Acc√®s complet au syst√®me</li>
                                    <li><strong>RH :</strong> Gestion quotidienne des employ√©s et paie</li>
                                    <li><strong>Employ√© :</strong> Consultation personnelle et demandes</li>
                                </ul>
                                <div class="alert alert-info">
                                    <small>
                                        <i class="bi bi-lightbulb"></i>
                                        <strong>Astuce :</strong> Utilisez <kbd>Ctrl + /</kbd> pour une recherche rapide !
                                    </small>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">
                                    <i class="bi bi-check"></i> Commencer
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', welcomeHTML);
            const modal = new bootstrap.Modal(document.getElementById('welcomeModal'));
            modal.show();
            
            // Nettoyer apr√®s fermeture
            document.getElementById('welcomeModal').addEventListener('hidden.bs.modal', function () {
                this.remove();
            });
        }

        // Fonction pour tester une fonctionnalit√©
        function testFeature(url, name) {
            if (confirm(`Voulez-vous tester la fonctionnalit√© "${name}" ?\n\nCela ouvrira : ${url}`)) {
                window.open(url, '_blank');
            }
        }

        // Fonction pour copier une URL
        function copyUrl(url) {
            navigator.clipboard.writeText(window.location.origin + url).then(() => {
                // Affichage temporaire de confirmation
                const toast = document.createElement('div');
                toast.className = 'toast-message';
                toast.innerHTML = `<i class="bi bi-check"></i> URL copi√©e : ${url}`;
                toast.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: #28a745;
                    color: white;
                    padding: 10px 15px;
                    border-radius: 5px;
                    z-index: 9999;
                    animation: slideIn 0.3s ease;
                `;
                
                document.body.appendChild(toast);
                setTimeout(() => toast.remove(), 3000);
            });
        }

        // Am√©liorer les liens avec des actions personnalis√©es
        document.addEventListener('click', function(e) {
            const link = e.target.closest('a');
            if (link && e.ctrlKey) {
                e.preventDefault();
                copyUrl(link.getAttribute('href'));
            }
        });

        // Fonction de d√©monstration des r√¥les
        function switchRole(role) {
            const tabs = document.querySelectorAll('#helpTabs button');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            const targetTab = document.querySelector(`#${role}-tab`);
            if (targetTab) {
                targetTab.click();
                
                // Message explicatif
                const message = {
                    'admin': 'Mode Administrateur : Acc√®s complet √† toutes les fonctionnalit√©s',
                    'rh': 'Mode RH : Gestion des employ√©s et calcul de paie', 
                    'employe': 'Mode Employ√© : Consultation personnelle et demandes',
                    'technique': 'Mode Technique : URLs et informations de d√©veloppement'
                };
                
                showRoleMessage(message[role]);
            }
        }

        function showRoleMessage(text) {
            const existing = document.querySelector('.role-message');
            if (existing) existing.remove();
            
            const msg = document.createElement('div');
            msg.className = 'role-message alert alert-primary alert-dismissible';
            msg.innerHTML = `
                ${text}
                <button type="button" class="btn-close" onclick="this.parentElement.remove()"></button>
            `;
            msg.style.cssText = 'position: fixed; top: 80px; right: 20px; z-index: 1050; min-width: 300px;';
            
            document.body.appendChild(msg);
            setTimeout(() => msg.remove(), 5000);
        }

        // Ajout de styles CSS pour les animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            .feature-item {
                transition: all 0.3s ease;
                cursor: default;
            }
            
            .feature-item:hover {
                transform: translateY(-3px);
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            }
            
            .url-box:hover {
                background: #e9ecef;
                cursor: pointer;
            }
            
            .search-item:hover {
                background-color: #f8f9fa !important;
            }
            
            .keyboard-key {
                transition: all 0.2s ease;
            }
            
            .keyboard-key:hover {
                background: #6c757d;
                color: white;
            }
            
            .role-card {
                border: 2px solid transparent;
            }
            
            .role-card:hover {
                border-color: var(--bs-primary);
            }
        `;
        document.head.appendChild(style);

        // Console Easter Egg pour les d√©veloppeurs
        console.log(`
    ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
    ‚ïë            PayrollPro                ‚ïë
    ‚ïë     Syst√®me de Gestion de Paie      ‚ïë
    ‚ïë                                      ‚ïë
    ‚ïë  üöÄ Version: 1.0.0                  ‚ïë
    ‚ïë  üíª Framework: Django 5.2.4         ‚ïë
    ‚ïë  üé® Frontend: Bootstrap 5.1.3       ‚ïë
    ‚ïë                                      ‚ïë
    ‚ïë  D√©velopp√© pour le march√© marocain   ‚ïë
    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
    
    üîç Fonctionnalit√©s disponibles:
    - Gestion compl√®te des employ√©s
    - Calcul automatique de la paie  
    - Gestion des absences et cong√©s
    - G√©n√©ration de bulletins PDF
    - Interface multi-r√¥les (Admin/RH/Employ√©)
    
    ‚å®Ô∏è  Raccourcis clavier:
    - Ctrl + / : Recherche rapide
    - Alt + H : Accueil
    - Alt + E : Employ√©s  
    - Alt + P : Paie
    - Alt + A : Absences
    
    üõ†Ô∏è  Commandes utiles:
    switchRole('admin')    - Passer en mode Admin
    switchRole('rh')       - Passer en mode RH  
    switchRole('employe')  - Passer en mode Employ√©
    testFeature(url, name) - Tester une fonctionnalit√©
        `);
    </script>
</body>
</html>